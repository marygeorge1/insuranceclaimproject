<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <title>Homepage</title>
</head>
<body>
<div th:insert="(~{navbar.html})"></div>
<h1>Welcome, User!</h1>

<script th:if="${showNotification}">
    swal({
        title: "Claim Status Updated!",
        icon: "warning",
        buttons: {
            confirm: {
                value: "DEFAULT_INPUT_TEXT",
            },
        },
    }).then((value) => {
        // Send an AJAX request to update the database
        if (value) {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/updateNotification', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            var username = '1234@outlook.com';
            var password = '1234';
            xhr.setRequestHeader('username', username);
            xhr.setRequestHeader('password', password);
            xhr.responseText = "hello";
            xhr.send();
            // xhr.send(JSON.stringify({ showNotification: false }));
        }
    });

    // window.onload = function() {
    //     setTimeout(function() {
    //         showNotification();
    //     }, 2000); // Adjust the timeout value as needed
    // };
    //
    // function showNotification() {
    //     swal.fire({
    //         icon: 'success', // 'success', 'error', 'info', etc.
    //         title: 'Notification',
    //         text: 'Your claims submission status has been updated!',
    //         timer: 3000, // Duration in milliseconds
    //         showConfirmButton: false,
    //     });
    // }
</script>

</body>
</html>